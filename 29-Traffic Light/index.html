<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .circle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        opacity: 0.5;
      }
      #red {
        background-color: red;
      }
      #green {
        background-color: green;
      }
      #yellow {
        background-color: yellow;
      }
      .on {
        opacity: 3;
      }
    </style>
  </head>
  <body>
    <div class="circle" id="red"></div>
    <br />
    <div class="circle" id="yellow"></div>
    <br />
    <div class="circle" id="green"></div>
  </body>
  <script defer>
    const redDOM = document.getElementById("red");
    const greenDOM = document.getElementById("green");
    const yellowDOM = document.getElementById("yellow");

    setInterval(() => {
      call();
    }, [2000]);
    var count = 1;
    var getNext = () => {
      if (count == 3) {
        count = 1;
        return 1;
      }
      count++;
      return count;
    };
    var clearAll = () => {
      greenDOM.style.opacity = 0.5;
      redDOM.style.opacity = 0.5;
      yellowDOM.style.opacity = 0.5;
    };
    var call = () => {
      const curr = getNext();
      if (curr == 1) {
        clearAll();
        yellowDOM.style.opacity = 1;
      } else if (curr == 2) {
        clearAll();
        greenDOM.style.opacity = 1;
      } else {
        clearAll();
        redDOM.style.opacity = 1;
      }
    };
  </script>
</html>
